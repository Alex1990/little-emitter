!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():t(e)}(this,function(e){"use strict";function t(e){return e?(e._events={},n(e,i)):void(this._events={})}function n(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function r(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&(t=t.concat(e[n]));return t}var i,s=Array.prototype.slice;return i=t.prototype,i.on=i.addEventListener=function(e,t){return(this._events[e]=this._events[e]||[]).push(t),this},i.one=i.once=function(e,t){var n=function(){this.off(e,n),t.apply(this,arguments)};return n.fn=t,this.on(e,n)},i.off=i.removeAllListners=i.removeEventListener=function(e,t){var n=this._events[e];if(0===arguments.length)this._events={};else if(1===arguments.length)delete this._events[e];else if(n){for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}n.length||delete this._events[e]}return this},i.emit=i.trigger=function(e){var t=this._events[e];if(!t)return!1;for(var n=0,r=t.length;r>n;n++)t[n].apply(this,s.call(arguments,1));return!0},i.listeners=function(e){return e?this._events[e]?this._events[e]:[]:r(this._events)},e?void(e.Emitter=t):t});